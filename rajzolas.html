<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="anyag.css" title="normal">
    <!--<link rel="alternate stylesheet" type="text/css" href="nagybetus.css" title="nagybetus">-->
    <link rel="icon" type="image" href="k√©pek/favicon-curly-bracket.png">
    <title>Rajzol√°s - Webes j√°t√©kok szakk√∂r</title>
</head>
<body>
    <header>
        <ul>
            <li><a href="index.html">Kezd≈ëlap</a></li>
            <li>Forr√°sok</li>
            <li>√ìrav√°zlatok</li>
            <li>R√≥lunk</li>
        </ul>
    </header>

    <main>
        <div class="cim">
            <div>
                <p><span></span>Szakk√∂ri seg√©danyag</p>
                <h1>Rajzol√°s ‚úèÔ∏è</h1>
            </div>
        </div>
        
        <div class="anyag">
            <h2>√Åttekint√©s</h2>

            <div class="informacio-ido">
                <figure>
                    <img src="k√©pek/√≥ra.png">
                </figure>
                <p>45'</p>
            </div>
            <div class="informacio-szint">
                <figure>
                    <img src="k√©pek/csillag.png">
                </figure>
                <p>k√∂nny≈±</p>
            </div>

            <h3>A j√°t√©k c√©lja</h3>
            <p>Biztosan j√≥l ismered a <b>pont√∂sszek√∂t≈ës</b> rajzokat, ahol a sz√°mozott pontok √∂sszek√∂t√©s√©vel lehet befejezni egy rajzot. Ebben a j√°t√©kban ilyen rajzokat k√©sz√≠t√ºnk, de nem a hagyom√°nyos m√≥don.</p>
            
            <a href="../1 Rajzol√°s/index.html">
                <div class="megtekintes-gomb">
                    <p>Interakt√≠v p√©lda</p>
                </div>
            </a>

        </div>

        <div class="utmutato">
            <h2>√ötmutat√≥</h2>
            <p>Az √∫tmutat√≥ a <a href="https://code.visualstudio.com/" target="_blank">Visual Studio Code</a> fejleszt≈ëi k√∂rnyezethez k√©sz√ºlt.</p>
            <h3>HTML</h3>

            <p>Minthogy webes j√°t√©kokr√≥l van sz√≥, a Visual Studio Code alkalmaz√°s megnyit√°sa ut√°n els≈ëk√©nt l√©tre kell hozzunk egy weboldalt <span class="kodreszlet">index.html</span> n√©ven, ahol a j√°t√©kot fogjuk elk√©sz√≠teni. Ehhez az alap HTML-strukt√∫r√°t fogjuk haszn√°lni, amit k√∂nnyed√©n el≈ëhozhatunk a <b>!</b> emmet paranccsal √©s az <b>ENTER</b>-rel. Ekkor az al√°bbi k√≥dot kapjuk:</p>

            <pre>
                <code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    
&lt;/body&gt;
&lt;/html&gt;
                </code>
            </pre>

            <p>√Åll√≠tsuk √°t az oldal nyelv√©t magyarra (<span class="kodreszlet">&lt;html lang="hu"&gt;</span>), a weboldal c√≠m√©t pedig a j√°t√©k nev√©re (<span class="kodreszlet">&lt;title&gt;K√∂sd √∂ssze a pontokat&lt;/title&gt;</span>).</p>

            <p>Ebben a feladatban (√©s a k√©s≈ëbbi feladatok sor√°n is) a HTML-oldalon az al√°bbi elemeket fogjuk elhelyezni: </p>
            <ul>
                <li>j√°t√©k neve</li>
                <li>v√°szon</li>
                <li>v√°szon st√≠lusa</li>
                <li>JavaScript-k√≥d</li>
            </ul>

            <p>Ezeket a <span class="kodreszlet">&lt;body&gt;&lt;/body&gt;</span> tagek (vagyis c√≠mk√©k) k√∂z√∂tt fogjuk elhelyezni. Kezdj√ºk is a c√≠mmel, ami egy 1-es szint≈± c√≠msor lesz:</p>
            <pre>
                <code>
&lt;body&gt;
    <span class="kodkiemeles">&lt;h1&gt;K√∂sd √∂ssze a pontokat!&lt;/h1&gt;</span>
&lt;/body&gt;
                </code>
            </pre>

            <p>A b√∂ng√©sz≈ëablak friss√≠t√©se ut√°n megjelenik a "K√∂sd √∂ssze a pontokat!" sz√∂veg.</p>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/rajzolas-h1-cim.png">
                    <figcaption>
                        <p>A weboldalon megjelenik a c√≠m</p>
                    </figcaption>
                </figure>
            </div>

            <p>A c√≠m alatt helyezkedik el a <span class="kodreszlet">&lt;canvas&gt;&lt;/canvas&gt;</span>, vagyis a v√°szon, melynek <b>sz√©less√©ge</b> legyen 313 pixel, <b>magass√°ga</b> 407 pixel. A <span class="kodreszlet">&lt;canvas&gt;</span> tag <span class="kodreszlet">id</span> attrib√∫tuma egyedi azonos√≠t√≥ megad√°s√°ra szolg√°l. K√©s≈ëbb a JavaScript f√°jlban ezzel az azonos√≠t√≥val hivatkozhatunk a v√°szonra.</p>

            <pre>
                <code>
&lt;body&gt;
    &lt;h1&gt;K√∂sd √∂ssze a pontokat!&lt;/h1&gt;
    <span class="kodkiemeles">&lt;canvas width="313" height="407" id="vaszon"&gt;&lt;/canvas&gt;</span>
&lt;/body&gt;
                </code>
            </pre>

            <p>Ebben a pillanatban szabad szemmel m√©g nem l√°that√≥ az eredm√©ny, de a v√°szon m√°r rendelkez√©sre √°ll a megadott helyen √©s m√©retben. Annak √©rdek√©ben, hogy a v√°szon megl√©t√©t ellen≈ërizhess√ºk, l√°ssuk el a v√°sznat <b>v√©kony fekete szeg√©llyel</b> az al√°bb l√°that√≥ m√≥don:</p>
            <pre>
                <code>
&lt;body&gt;
    <span class="kodkiemeles">&lt;style&gt;
        canvas{
            border: 1px solid black;
        }
    &lt;/style&gt;</span>
    &lt;h1&gt;K√∂sd √∂ssze a pontokat!&lt;/h1&gt;
    &lt;canvas width="313" height="407" id="vaszon"&gt;&lt;/canvas&gt;
&lt;/body&gt;
                </code>
            </pre>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/rajzolas-vaszon-szegely.png">
                    <figcaption>
                        <p>A weboldalon megjelenik v√°szon szeg√©lye</p>
                    </figcaption>
                </figure>
            </div>

            <p>Ez a v√°szon lehet≈ës√©gek t√°rh√°z√°t nyitja meg el≈ëtt√ºnk a j√°t√©kfejleszt√©shez. Azonban a v√°szonra csak JavaScript k√≥dot haszn√°lva tudunk rajzolni (√©s k√©s≈ëbb j√°t√©kot √≠rni), ez√©rt ehhez a v√°szonhoz hozz√° kell rendelni egy k√≥dot, vagyis scriptet. A k√≥d forr√°sak√©nt az <span class="kodreszlet">index.js</span> fog szolg√°lni:</p>
            <pre>
                <code>
&lt;body&gt;
    &lt;style&gt;
        canvas{
            border: 1px solid black;
        }
    &lt;/style&gt;
    &lt;h1&gt;K√∂sd √∂ssze a pontokat!&lt;/h1&gt;
    &lt;canvas width="313" height="407" id="vaszon"&gt;&lt;/canvas&gt;
    <span class="kodkiemeles">&lt;script src="index.js"&gt;&lt;/script&gt;</span>
&lt;/body&gt;
                </code>
            </pre>

            <p>Vigy√ºk az eg√©rmutat√≥t az <span class="kodreszlet">index.js</span> sz√∂veg (link) f√∂l√©, majd a felugr√≥ ablakban kattintsunk a <b>Follow link</b> opci√≥ra, hogy el√©rj√ºk ezt a JavaScript f√°jlt. Miut√°n r√°kattintottunk, egy figyelmeztet√©st kapunk, hogy az <span class="kodreszlet">index.js</span> f√°jl nem l√©tezik. Val√≥ban nem l√©tezik m√©g ez a f√°jl, de a <b>Create File</b> opci√≥ra kattinva a Visual Studio Code l√©trehozza √©s megnyitja nek√ºnk ezt a f√°jlt.</p>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/rajzolas-follow-link.png">
                    <figcaption>
                        <p>Az index.js forr√°s√°nak megnyit√°sa</p>
                    </figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/create-file.png">
                    <figcaption>
                        <p>A JavaScript forr√°sf√°jl l√©trehoz√°sa √©s megnyit√°sa</p>
                    </figcaption>
                </figure>
            </div>

            <p>Ebben a projektben nem egy, hanem k√©t v√°sznunk (<span class="kodreszlet">&lt;canvas&gt;</span>) lesz az egyes rajzokhoz. Ennek √©rtelm√©ben a <b>v√©gleges HTML-k√≥d</b> a k√∂vetkez≈ë lesz:</p>
            <pre>
                <code>
&lt;!DOCTYPE html&gt;
<span class="kodkiemeles">&lt;html lang="hu"&gt;</span>
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    <span class="kodkiemeles">&lt;title&gt;K√∂sd √∂ssze a pontokat&lt;/title&gt;</span>
&lt;/head&gt;
&lt;body&gt;
    <span class="kodkiemeles">&lt;style&gt;
        canvas {
            border: solid 1px black;
        }
    &lt;/style&gt;
    &lt;h1&gt;K√∂sd √∂ssze a pontokat!&lt;/h1&gt;
    &lt;canvas width="313" height="407" id="vaszon1"&gt;&lt;/canvas&gt;
    &lt;canvas width="469" height="350" id="vaszon2"&gt;&lt;/canvas&gt;
    &lt;script src="index.js"&gt;&lt;/script&gt;</span>
&lt;/body&gt;
&lt;/html&gt;
                </code>
            </pre>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/rajzolas-vaszon-ketto-darab.png">
                    <figcaption>
                        <p>Mindk√©t v√°szon kirajzol√°sra ker√ºlt</p>
                    </figcaption>
                </figure>
            </div>

            <h3>JavaScript (JS)</h3>

            <h4>V√°szon el√©r√©se</h4>

            <p>A canvasre rajzol√°s nem m√°s, mint parancsok sorozat√°nak alkalmaz√°sa a canvasre. Ehhez viszont valahogyan el kell √©rn√ºnk a canvast, vagyis a HTML dokumentumb√≥l ki kell v√°lasztanunk a <span class="kodreszlet">&lt;canvas&gt;</span> elemet, √©s azt el kell t√°rolnunk egy konstansban, hogy k√©s≈ëbb k√∂nnyen tudjunk r√° hivatkozni. Az√©rt konstansban t√°roljuk el, mert ez a v√°szon nem fog v√°ltozni a j√°t√©kfejleszt√©s sor√°n, vagyis mindig ugyanzt a v√°sznat fogjuk haszn√°lni. A JS k√≥d els≈ë k√©t sora teh√°t a k√∂vetkez≈ë lesz k√©t k√ºl√∂nb√∂z≈ë v√°szon elt√°rol√°sa eset√©n:</p>
            <pre>
                <code>
/*Canvas el√©r√©se*/
<span class="kodkiemeles">const canvas1 = document.querySelector('#vaszon1');
const canvas2 = document.querySelector('#vaszon2');</span>
                </code>
            </pre>
            <p>A <span class="kodreszlet">const</span> kulcssz√≥ vezeti be azt, hogy egy konstanst hozunk l√©tre, majd a konstans elnevez√©se ut√°n (<span class="kodreszlet">"canvas1"</span>, <span class="kodreszlet">"canvas2"</span>) r√∂gt√∂n egy <span class="kodreszlet">=</span> jellel √©rt√©ket adunk neki a <span class="kodreszlet">querySelector()</span> HTML DOM met√≥dussal. Ez az √©rt√©k a HTML dokumentum <span class="kodreszlet">#vaszon1</span> √©s <span class="kodreszlet">#vaszon2</span> egyedi azonos√≠t√≥kkal ell√°tott eleme, vagyis a <span class="kodreszlet">&lt;canvas&gt;</span> tagek.</p>

            <div class="megjegyzes">
                <p><b>üí≠ Megjegyz√©s</b></p>
                <p>A <span class="kodreszlet">const</span> kulcssz√≥val olyan v√°ltoz√≥kat hozhatunk l√©tre, melynek √©rt√©ke nem v√°ltozik a program fut√°sa sor√°n.</p>
            </div>

            <p>A <span class="kodreszlet">&lt;canvas&gt;</span> csak egy <b>rajzfel√ºlet</b>, √∂nmag√°ban m√©g nem ad rajzol√≥ eszk√∂z√∂ket a kez√ºnkbe. Annak √©rdek√©ben, hogy erre a v√°szonra k√∂r√∂ket, t√©glalapokat, vonalakat, g√∂rb√©ket, k√©peket √©s sz√∂veget tudjunk rajzolni k√ºl√∂nb√∂z≈ë sz√≠nekben, m√©retekben, elforgat√°ssal √©s egy√©b transzform√°ci√≥kkal, le kell k√©rn√ºnk a v√°szon 2D kontextus√°t a <span class="kodreszlet">getContext()</span> HTML DOM met√≥dussal. Ez a kontextus biztos√≠tja a j√°t√©kfejleszt√©shez haszn√°lt rajzol√°si m≈±veleteket, pl. <span class="kodreszlet">ctx1.drawImage()</span> k√©pkirajzol√°shoz, <span class="kodreszlet">ctx1.beginPath()</span> alakzatrajzol√°s ind√≠t√°s√°hoz vagy <span class="kodreszlet">ctx1.arc()</span> k√∂r√≠v rajzol√°s√°hoz. Ezt a k√©t kontextust <b>ctx1</b> √©s <b>ctx2</b> n√©ven t√°roljuk el.</p>
            <pre>
                <code>
/*Canvas el√©r√©se*/
const canvas1 = document.querySelector('#vaszon1');
<span class="kodkiemeles">const ctx1 = canvas1.getContext('2d');</span>

const canvas2 = document.querySelector('#vaszon2');
<span class="kodkiemeles">const ctx2 = canvas2.getContext('2d');</span>
                </code>
            </pre>

            <h4>H√°tt√©rk√©p</h4>

            <p>A mintak√©nt szolg√°l√≥ k√©peket a canvas h√°tt√©rk√©pek√©nt fogjuk haszn√°lni, ez√©rt kellett a v√°szon m√©ret√©t a h√°tt√©rk√©pek√©vel megegyez≈ëre be√°ll√≠tani. Ha a v√°szon sz√©less√©g√©nek √©s magass√°g√°nak ar√°nya elt√©r a h√°tt√©rk√©p ar√°nyait√≥l, akkor a h√°tt√©rk√©p transzform√°lva (ny√∫jtva) lesz kirajzolva. De hogyan lehet <b>k√©pet beilleszteni</b>?</p>

            <p>A k√©pet el kell t√°rolnunk valahol, √≠gy egy konstanst hozunk l√©tre, mely egy k√©p lesz, majd ennek a k√©pnek megadjuk a forr√°s√°t, vagyis a k√©p el√©r√©si √∫tvonal√°t:</p>
            <pre>
                <code>
/*K√©pek bet√∂lt√©se*/
const giliszta = new Image();
giliszta.src = 'worm.png';
                </code>
            </pre>

            <p>Ezt a k√©pet ki kell rajzolnunk a v√°szonra, amit az al√°bbi k√≥ddal tehet√ºnk meg. Az els≈ë param√©ter a kirajzolni k√≠v√°nt k√©p (melyet a <span class="kodreszlet">giliszta</span> konstansban t√°roltunk el), a m√°sodik √©s harmadik param√©ter a k√©p bal fels≈ë sark√°nak <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> koordin√°t√°ja, a negyedik √©s √∂t√∂dik param√©ter pedig a k√©p sz√©less√©ge √©s magass√°ga pixelben. Ezt a k√©pet, viszont, csak akkor rajzolhatjuk ki, ha a k√©pek m√°r bet√∂lt√∂ttek.</p>
            <pre>
                <code>
giliszta.onload = function() {
    ctx1.drawImage(giliszta, 0, 0, 313, 407);
};
                </code>
            </pre>

            <p class="feladat"><b>Feladat ‚úÖ</b></b> <br>Ugyanezt a m≈±veletsort hajtsuk v√©gre a m√°sik v√°sznon a m√°sik forr√°sk√©ppel!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
const hal = new Image();
hal.src = 'fish.png';
hal.onload = function() {
    ctx2.drawImage(hal, 0, 0, 469, 350);
};
                    </code>
                </pre>
            </details>
            
            <p>A k√©pek bet√∂lt√©se ut√°n a k√∂vetkez≈ët kell l√°tnunk.</p>
            <div class="kepsor">
                <figure>
                    <img src="k√©pek/rajzolas-alap.png">
                    <figcaption>
                        <p>K√©t v√°szon √°ll rendelkez√©sre (<span class="kodreszlet">ctx1</span> √©s <span class="kodreszlet">ctx2</span>), melyeknek h√°tt√©rk√©pet √°ll√≠tottunk be.</p>
                    </figcaption>
                </figure>
            </div>

            <h4>Eg√©rmutat√≥ poz√≠ci√≥j√°nak ki√≠r√°sa</h4>

            <p>A pontok √∂sszek√∂t√©s√©hez fontos inform√°ci√≥, hogy hol helyezkednek el a pontok. √ögy is fel lehetne tenni a k√©rd√©st, hogy mi a pontok <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> koordin√°t√°ja a v√°sznon. Milyen j√≥ lenne, ha ehhez az inform√°ci√≥hoz mind√∂ssze az√°ltal jutn√°nk hozz√°, hogy a pontok f√∂l√© vissz√ºk az egeret! Hogyan lehet lek√©rdezni √©s ki√≠rni az eg√©rmutat√≥ helyzet√©t?</p>

            <p>A k√∂vetkez≈ëkben megismerked√ºnk az <b>eg√©rmozg√°ssal</b>, mint esem√©nnyel.</p>

            <p>Mi sz√°m√≠t <b>esem√©nynek</b>? Az eg√©rmozg√°son k√≠v√ºl ide tartozik t√∂bbek k√∂z√∂tt az kattint√°s √©s a k√ºl√∂nb√∂z≈ë billenty≈±k lenyom√°sa vagy felenged√©se is. A k√©s≈ëbbi j√°t√©kok sor√°n tal√°lkozni fogunk ezekkel is, de most az eg√©rmozg√°s esem√©nyre lesz sz√ºks√©g√ºnk. Az im√©nt felsorolt esem√©nyek b√°rmikor megt√∂rt√©nhetnek, azonban alapvet≈ëen nincs hat√°suk. Ha azt szeretn√©nk, hogy valamilyen hat√°suk legyen, akkor egy esem√©nyfigyel≈ët kell hozz√°rendelni valamelyik elemhez (mi a weboldalhoz fogjuk hozz√°rendelni), amelyn√©l defini√°lhatjuk, hogy milyen esem√©nyt figyeljen, √©s ha az bek√∂vetkezik, akkor mi t√∂rt√©njen. Ennek √°ltal√°nos form√°ja az al√°bbi:</p>
            <pre>
                <code>
elem.addEventListener(esem√©ny, f√ºggv√©ny);
                </code>
            </pre>

            <p>Az els≈ë param√©ter hat√°rozza meg az esem√©ny t√≠pus√°t (eg√©rmozg√°s/<span class="kodreszlet">mousemove</span>, kattint√°s/<span class="kodreszlet">click</span>, billenty≈±lenyom√°s/<span class="kodreszlet">keydown</span>, billenty≈±felenged√©s/<span class="kodreszlet">keyup</span>, weboldal vagy k√©p bet√∂lt√©se/<span class="kodreszlet">onload</span> stb.), a m√°sodik pedig azt a f√ºggv√©nyt, amit az esem√©ny bek√∂vetkeztekor megh√≠vunk, vagyis azt mondja meg, hogy mi t√∂rt√©njen egy adott esem√©ny bek√∂vetkez√©sekor. Egy elemhez t√∂bb esem√©nykezel≈ët is rendelhet√ºnk (ak√°r ugyanolyan t√≠pus√∫akat is an√©lk√ºl, hogy azok fel√ºl√≠rn√°k egym√°st).</p>

            <pre>
                <code>
document.addEventListener(<span class="kodkiemeles">'mousemove'</span>, function(e) {})
                </code>
            </pre>

            <p>A fenti k√≥d m√©g nem teljes, hiszen a <span class="kodreszlet">{}</span> jelek k√∂z√∂tt meg kell √≠rnunk az eg√©rmutat√≥ v√≠zszintes √©s f√ºgg≈ëleges hely√©nek elt√°rol√°s√°t. Matematik√°b√≥l m√°r tudjuk, hogy egy koordin√°tarendszerben a v√≠zszintes tengely jele az <span class="kodreszlet">x</span>, a f√ºgg≈ëleges tengely√© <span class="kodreszlet">y</span>. A v√°szon fel√ºlete is egy koordin√°tarendszer, viszont itt az orig√≥ nem k√∂z√©pen van, hanem a bal fels≈ë sarokban. Ebb≈ël a pontb√≥l az <span class="kodreszlet">x</span> tengely balra n≈ë, jobbra cs√∂kken, viszont az <span class="kodreszlet">y</span> tengely a megszokott√≥l elt√©r≈ëen lefel√© n≈ë, felfel√© cs√∂kken. Az im√©nt eml√≠tett koordin√°t√°kkal az eg√©rmutat√≥ is rendelkezik, √≠gy nincs m√°s dolgunk, mint lek√©rdezni ezeket a koordin√°t√°kat.</p>

            <p>Els≈ëk√©nt (m√©g az esem√©nykezel≈ë f√ºggv√©ny el≈ëtt) hozzuk l√©tre az eg√©rmutat√≥ koordin√°t√°it elt√°rol√≥ <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> nev≈± v√°ltoz√≥kat, melyeknek adjuk a <span class="kodreszlet">0</span> kezd≈ë√©rt√©ket! V√°ltoz√≥t a <span class="kodreszlet">let</span> kulcssz√≥val hozhatunk l√©tre:</p>
            <pre>
                <code>
<span class="kodkiemeles">let x = 0;
let y = 0;</span>
document.addEventListener('click', function(e) {})
                </code>
            </pre>

            <p>Ezut√°n ezeknek a v√°ltoz√≥knak adjuk √©rt√©k√ºl az eg√©r <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> koordin√°t√°it. A f√ºggv√©ny <span class="kodreszlet">e</span> param√©tere jel√∂li az eg√©rmutat√≥t, melynek v√≠zszintes √©s f√ºgg≈ëleges koordin√°t√°j√°t a <span class="kodreszlet">.offsetX</span> √©s <span class="kodreszlet">.offsetY</span> tulajdons√°gok tartalmazz√°k:</p>
            <pre>
                <code>
let x = 0;
let y = 0;
document.addEventListener('click', function(<span class="kodkiemeles">e</span>) {
    x = <span class="kodkiemeles">e.offsetX</span>;
    y = <span class="kodkiemeles">e.offsetY</span>;
})
                </code>
            </pre>

            <p>Most m√°r az <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> v√°ltoz√≥k tartalmazz√°k, hogy hol van az eg√©rmutat√≥.</p>

            <p>Hogy sz√°munkra is egy√©rtelm≈± legyen az eg√©rmutat√≥ v√≠zszintes √©s f√ºgg≈ëleges poz√≠ci√≥ja, √≠rjuk ki azt a v√°szonra. A sz√∂vegki√≠r√°s menete a k√∂vetkez≈ë l√©p√©sekb≈ël √°ll:</p>

            <ul>
                <li>bet≈±m√©ret (pixelben) √©s bet≈±t√≠pus be√°ll√≠t√°sa (<span class="kodreszlet">.font</span>),</li>
                <li>bet≈±sz√≠n megad√°sa (<span class="kodreszlet">.fillStyle</span>), √©s</li>
                <li>a sz√∂veg ki√≠r√°sa (<span class="kodreszlet">.fillText(mit, hovaX, hovaY)</span>). A <span class="kodreszlet">hovaX</span> √©s <span class="kodreszlet">hovaY</span> param√©terek mondj√°k meg, hova ker√ºlj√∂n a sz√∂veg bal als√≥ sarka.</li>
            </ul>
            <pre>
                <code>
/*Eg√©rmutat√≥ poz√≠ci√≥j√°nak ki√≠r√°sa*/
let x = 0;
let y = 0;
ctx1.font = '20px Arial';
ctx1.fillStyle = 'black';
ctx1.fillText('(' + x + ',' + y + ')', 10, 50);

/*Eg√©rmutat√≥ X √©s Y koordin√°t√°j√°nak lek√©rdez√©se √©s elt√°rol√°sa*/
document.addEventListener('mousemove', function(e) {
    x = e.offsetX;
    y = e.offsetY;
})
                </code>
            </pre>

            <figure>
                <img src="k√©pek/rajzolas-koordinata00.png">
                <figcaption>
                    <p>Az <span class="kodreszlet">x</span> √©s az <span class="kodreszlet">y</span> v√°ltoz√≥k √©rt√©k√©nek ki√≠r√°sa</p>
                </figcaption>
            </figure>
            
            <p>A fenti k√≥d folyamatosan friss√≠ti az <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> v√°ltoz√≥kat, m√©gis csak a <span class="kodreszlet">(0,0)</span> koordin√°tap√°r l√°that√≥ a canvas bal fels≈ë sark√°ban, hi√°ba mozgatjuk az egeret a canvas f√∂l√∂tt. Mi√©rt van ez? A programk√≥d szekvenci√°lisan, vagyis sorr√≥l sorra fut le. Teh√°t az <span class="kodreszlet">x</span> √©s az <span class="kodreszlet">y</span> v√°ltoz√≥k √©rt√©k√©t be√°ll√≠tjuk <span class="kodreszlet">0</span>-ra, majd r√∂gt√∂n ki√≠rjuk azt √©s csak ezut√°n kezdj√ºk friss√≠teni a v√°ltoz√≥k √©rt√©k√©t az eg√©rmutat√≥ aktu√°lis poz√≠ci√≥ja alapj√°n. K√∂nnyen l√°thatjuk, hogy a ki√≠r√°snak t√∂bbsz√∂r meg kell t√∂rt√©nnie, hogy mindig a legfrissebbet √≠rja ki. Mi lenne, ha a ki√≠r√°st egy f√ºggv√©nybe helyezn√©nk el, ami utols√≥ l√©p√©sk√©nt √∂nmag√°t h√≠vja meg, vagyis folyamatosan ki√≠rja az <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> v√°ltoz√≥k √©rt√©k√©t.</p>
            <pre>
                <code>
/*Eg√©rmutat√≥ poz√≠ci√≥j√°nak ki√≠r√°sa*/
let x = 0;
let y = 0;
<span class="kodkiemeles">function k√∂vetkez≈ë() {</span>
    ctx1.font = '20px Arial';
    ctx1.fillStyle = 'black';
    ctx1.fillText('(' + x + ',' + y + ')', 10, 50);
    <span class="kodkiemeles">requestAnimationFrame(k√∂vetkez≈ë);
}
k√∂vetkez≈ë();</span>

/*Eg√©rmutat√≥ X √©s Y koordin√°t√°j√°nak lek√©rdez√©se √©s elt√°rol√°sa*/
document.addEventListener('mousemove', function(e) {
    x = e.offsetX;
    y = e.offsetY;
})
                </code>
            </pre>

            <p>A fenti k√≥dban a <span class="kodreszlet">requestAnimationFrame(k√∂vetkez≈ë);</span> lesz az a sor, ami √∫jrah√≠vja a <span class="kodreszlet">k√∂vetkez≈ë</span> f√ºggv√©nyt. A <span class="kodreszlet">requestAnimationFrame()</span> megmondja a b√∂ng√©sz≈ënek, hogy egy anim√°ci√≥t szeretn√©nk elind√≠tani, ez√©rt √ºtemezi a k√∂vetkez≈ë k√©pkock√°t. Olyan ez, mint az ujjunkkal p√∂rgethet≈ë, r√∂vid t√∂rt√©neteket bemutat√≥ k√∂nyvecsk√©k, melyek minden oldala egy picit m√°sabb az el≈ëz≈ën√©l, ez√©rt az "anim√°ci√≥" csak gyors p√∂rget√©s eset√©n l√°tv√°nyos. A <span class="kodreszlet">requestAnimationFrame()</span> param√©ter√©be azt a f√ºggv√©nyt kell √≠rnunk, ami alapj√°n az √∫jrarajzol√°st el szeretn√©nk v√©gezni. A mi eset√ºnkben az √∫jrarajzol√°s, vagyis a k√∂vetkez≈ë k√©pkocka a <span class="kodreszlet">k√∂vetkez≈ë</span> f√ºggv√©nyben meghat√°rozottak szerint lesz m√°s, ez√©rt ezt a f√ºggv√©nyt kell megh√≠vnunk. Err≈ël b≈ëvebben olvashatsz a <a href="https://www.w3schools.com/jsref/met_win_requestanimationframe.asp" target="_blank">W3Schools oldal√°n</a>.</p>

            <p>A mi k√≥dunk jelenleg annyiban m≈±k√∂dik m√°sk√©pp az im√©nt eml√≠tett k√∂nyvecsk√©kn√©l, hogy nem t≈±nnek el a kor√°bban kirajzolt k√©pkock√°k, hanem egym√°sra rajzol√≥dnak...</p>

            <figure>
                <img src="k√©pek/rajzolas-koordinatasok.png">
                <figcaption>
                    <p>Az <span class="kodreszlet">x</span> √©s az <span class="kodreszlet">y</span> v√°ltoz√≥k √©rt√©k√©nek folyamatos ki√≠r√°sa</p>
                </figcaption>
            </figure>

            <p>L√°that√≥, hogy m√©g nem m≈±k√∂dik t√∂k√©letesen. Az is l√°tszik, hogy mi a gond: az √∫jabb √©s √∫jabb ki√≠r√°sok egym√°sra ker√ºlnek, ez√©rt minden ki√≠r√°s alatt l√°tszik az √∂sszes kor√°bbi koordin√°ta-p√°r. Kellene egy "rad√≠r eszk√∂z" a kez√ºnkbe, amivel a ki√≠r√°s el≈ëtt <b>let√∂r√∂lj√ºk</b> a v√°szon bal fels≈ë sark√°t minden ki√≠r√°s el≈ëtt. Mivel minden ki√≠r√°st egy t√∂rl√©s el≈ëz meg, √≠gy a t√∂rl√©st is a f√ºggv√©nyben kell elhelyezni a ki√≠r√°s el√© az al√°bbi m√≥don.</p>
            <pre>
                <code>
/*Eg√©rmutat√≥ poz√≠ci√≥j√°nak ki√≠r√°sa*/
let x = 0;
let y = 0;
function k√∂vetkez≈ë() {
    <span class="kodkiemeles">ctx1.clearRect(0, 0, 140, 60);</span>  //t√∂rl√©s t√©glalap alakban
    ctx1.font = '20px Arial';
    ctx1.fillStyle = 'black';
    ctx1.fillText('(' + x + ',' + y + ')', 10, 50);
    requestAnimationFrame(k√∂vetkez≈ë);
}
k√∂vetkez≈ë();

/*Eg√©rmutat√≥ X √©s Y koordin√°t√°j√°nak lek√©rdez√©se √©s elt√°rol√°sa*/
document.addEventListener('mousemove', function(e) {
    x = e.offsetX;
    y = e.offsetY;
})
                </code>
            </pre>

            <p>A t√∂rl√©s m≈±velet a k√©pkirajzol√°shoz hasonl√≥ param√©terekkel rendelkezik:</p>
            <ol>
                <li>a t√∂rlend≈ë ter√ºlet bal fels≈ë sajk√°nak <span class="kodreszlet">x</span> poz√≠ci√≥ja pixelben</li>
                <li>a t√∂rlend≈ë ter√ºlet bal fels≈ë sajk√°nak <span class="kodreszlet">y</span> poz√≠ci√≥ja pixelben</li>
                <li>a t√∂rlend≈ë ter√ºlet sz√©less√©ge pixelben</li>
                <li>a t√∂rlend≈ë ter√ºlet magass√°ga pixelben</li>
            </ol>

            <p>Az im√©nt, teh√°t, egy <span class="kodreszlet">140px</span> sz√©les √©s <span class="kodreszlet">60px</span> magas t√©glalap alakban t√∂r√∂lt√ºnk a canvas bal fels≈ë sark√°t√≥l kezdve, hogy az al√°bbi eredm√©nyt kapjuk, amikor a giliszta bal fels≈ë pontja f√∂l√© vissz√ºk az egeret:</p>
            <figure>
                <img src="k√©pek/rajzolas-koordinatajo.png">
                <figcaption>
                    <p>Az <span class="kodreszlet">x</span> √©s az <span class="kodreszlet">y</span> v√°ltoz√≥k √©rt√©k√©nek folyamatos ki√≠r√°sa helyesen</p>
                </figcaption>
            </figure>

            <p class="feladat"><b>Feladat ‚úÖ</b></b> <br>√çrd ki a "<i>Giliszta</i>" √©s "<i>Hal</i>" szavakat a v√°sznak bal fels≈ë sark√°ba! Figyelj arra, hogy √©ppen melyik v√°szonra szeretn√©l √≠rni (<span class="kodreszlet">ctx1</span> √©s <span class="kodreszlet">ctx2</span>)!
            </p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
/*Sz√∂veg ki√≠r√°sa*/
ctx1.font = '30px Arial';
ctx1.fillStyle = 'black';
ctx1.fillText('Giliszta', 10, 100);

ctx2.font = '30px Arial';
ctx2.fillStyle = 'black';
ctx2.fillText('Hal', 10, 50);
                    </code>
                </pre>
            </details>

            <h4>T√∂r√∂ttvonal rajzol√°sa</h4>

            <p>J√∂het a <b>vonalak rajzol√°sa</b>!</p>

            <p>Vonalat (t√∂r√∂tt vonalat) rajzolni a <span class="kodreszlet">ctx.beginPath();</span> paranccsal lehet, mely jelzi a v√°szonnak, hogy vonalrajzol√°s kezd≈ëdik. Ezut√°n meg kell mondanunk a <span class="kodreszlet">ctx.moveTo(kezdoX, kezdoY);</span> parancssal a kezd≈ëpontot, ahonnan az els≈ë vonalat fogjuk h√∫zni. Ezut√°n minden tov√°bbi vonalat a <span class="kodreszlet">ctx.lineTo(kovetkezoX, kovetkezoY);</span> utas√≠t√°ssal tudunk megadni. Az <b>els≈ë k√©t pont k√∂z√∂tti vonal meghat√°roz√°sa</b> a giliszt√°t √°br√°zol√≥ v√°sznon √≠gy n√©z ki:</p>
            <pre>
                <code>
/*Vonalak megrajzol√°sa*/
ctx1.beginPath();
ctx1.moveTo(72, 147);
ctx1.lineTo(3, 236);
                </code>
            </pre>

            <p>T√©nyleges vonalat azonban m√©g nem l√°tunk, mivel nem rendelt√ºnk st√≠lust ehhez a vonalhoz. K√∂rvonalat √©s kit√∂lt√©st mindig a legut√≥bb defini√°lt alakzathoz tudunk a k√∂r k√∂rvonal√°nak defini√°l√°s√°hoz hasonl√≥ m√≥don:</p>
            <pre>
                <code>
/*Megrajzolt alakzat k√∂rvonal√°nak defini√°l√°sa*/
ctx1.lineWidth = 1;
ctx1.strokeStyle = 'black';
ctx1.stroke();
                </code>
            </pre>

            <p class="feladat"><b>Feladat ‚úÖ</b></b> <br>Az im√©nt l√°tott m√≥don eg√©sz√≠ts√ºk ki mindk√©t rajzot!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
/*Vonalak megrajzol√°sa*/
ctx1.beginPath();
ctx1.moveTo(72, 147);
ctx1.lineTo(3, 236);
ctx1.lineTo(8, 298);
ctx1.lineTo(51, 368);
ctx1.lineTo(118, 403);
ctx1.lineTo(224, 376);
ctx1.lineTo(272, 309);
ctx1.lineTo(251, 222);
ctx1.lineTo(237, 178);

ctx2.beginPath();
ctx2.moveTo(3, 183);
ctx2.lineTo(16, 138);
ctx2.lineTo(45, 105);
ctx2.lineTo(84, 84);
ctx2.lineTo(128, 69);
ctx2.lineTo(172, 63);
ctx2.lineTo(217, 69);
ctx2.lineTo(261, 90);
ctx2.lineTo(294, 115);
ctx2.lineTo(326, 147);
ctx2.lineTo(339, 88);
ctx2.lineTo(367, 52);
ctx2.lineTo(409, 34);
ctx2.lineTo(453, 33);
ctx2.lineTo(465, 75);
ctx2.lineTo(458, 122);
ctx2.lineTo(430, 158);
ctx2.lineTo(391, 184);
ctx2.lineTo(430, 206);
ctx2.lineTo(458, 243);
ctx2.lineTo(462, 287);
ctx2.lineTo(451, 332);
ctx2.lineTo(409, 330);
ctx2.lineTo(367, 311);
ctx2.lineTo(339, 275);
ctx2.lineTo(327, 216);
ctx2.lineTo(294, 250);
ctx2.lineTo(256, 277);
ctx2.lineTo(217, 294);
ctx2.lineTo(172, 300);
ctx2.lineTo(126, 294);
ctx2.lineTo(80, 279);
ctx2.lineTo(44, 258);
ctx2.lineTo(14, 225);
ctx2.lineTo(3, 183);

/*Megrajzolt alakzatok k√∂rvonal√°nak defini√°l√°sa*/
ctx1.lineWidth = 1;
ctx1.strokeStyle = 'black';
ctx1.stroke();

ctx2.lineWidth = 1;
ctx2.strokeStyle = 'black';
ctx2.stroke();
                    </code>
                </pre>
            </details>
            

            <h4>Ha marad m√©g id≈ë</h4>

            <p class="feladat"><b>Feladat ‚úÖ</b></b> <br>Sz√≠nezz√ºk ki a halat!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
/*Alakzat kit√∂lt√©se*/
ctx2.fillStyle = 'turquoise';
ctx2.fill();

/*Hal d√≠sz√≠t√©se*/
/*1. k√∂r*/
ctx2.beginPath();
ctx2.arc(234, 130, 20, 0, 2 * Math.PI);
ctx2.fillStyle = 'salmon';
ctx2.fill();
/*2. k√∂r*/
ctx2.beginPath();
ctx2.arc(271, 193, 20, 0, 2 * Math.PI);
ctx2.fillStyle = 'salmon';
ctx2.fill();
/*3. k√∂r*/
ctx2.arc(213, 243, 20, 0, 2 * Math.PI);
ctx2.fillStyle = 'salmon';
ctx2.fill();
                    </code>
                </pre>
            </details>

            <p class="feladat"><b>Feladat ‚úÖ</b> <br>Hozz l√©tre egy √∫j <span class="kodreszlet">index.html</span> oldalt, melybe belinkelsz egy <span class="kodreszlet">index.js</span> szkript f√°jt. Keress az interneten egy pont√∂sszek√∂t≈ës rajzot, t√∂ltsd le, majd √°ll√≠tsd be azt az <span class="kodreszlet">index.html</span> oldalon elhelyezett <span class="kodreszlet">&lt;canvas&gt;&lt;/canvas&gt;</span> elemnek. Eg√©sz√≠tsd ki ezt a rajzot, majd d√≠sz√≠tsd ki sz√≠nekkel √©s alakzatokkal!</p>

    </main>

    <footer>

    </footer>
</body>
</html>