<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="anyag.css" title="normal">
    <!--<link rel="alternate stylesheet" type="text/css" href="nagybetus.css" title="nagybetus">-->
    <link rel="icon" type="image" href="k√©pek/favicon-curly-bracket.png">
    <title>Pont - Webes j√°t√©kok szakk√∂r</title>
</head>
<body>
    <header>
        <ul>
            <li><a href="index.html">Kezd≈ëlap</a></li>
            <li>Forr√°sok</li>
            <li>√ìrav√°zlatok</li>
            <li>R√≥lunk</li>
        </ul>
    </header>

    <main>
        <div class="cim">
            <div>
                <p><span></span>Szakk√∂ri seg√©danyag</p>
                <h1>Pont - k√∂r üî¥</h1>
            </div>
        </div>
        
        <div class="anyag">
            <h2>√Åttekint√©s</h2>

            <div class="informacio-ido">
                <figure>
                    <img src="k√©pek/√≥ra.png">
                </figure>
                <p>45'</p>
            </div>
            <div class="informacio-szint">
                <figure>
                    <img src="k√©pek/csillag.png">
                </figure>
                <p>k√∂nny≈±</p>
            </div>

            <h3>A j√°t√©k c√©lja</h3>
            <p>Egy igaz√°n <b>letisztult</b> j√°t√©kkal ismerkedhetsz meg, amit r√°ad√°sul neh√©z abba hagyni. A k√©perny≈ëre <b>kattint√°ssal</b> kell eljutni a s√°rga p√∂ttyig, melynek sikeres teljes√≠t√©se eset√©n <b>pontot</b> kapsz. Azonban vigy√°zz a <b>fekete goly√≥k</b>kal, mert ha eltal√°lnak, v√©ge a j√°t√©knak. Vajon kinek siker√ºl a <b>legt√∂bb pontot</b> √∂sszegy≈±jteni?</p>

            <a href="../5 Pont - k√∂r/index.html">
                <div class="megtekintes-gomb">
                    <p>Interakt√≠v p√©lda</p>
                </div>
            </a>

        </div>

        <div class="utmutato">
            <h2>√ötmutat√≥</h2>
            <p>Az √∫tmutat√≥ a <a href="https://code.visualstudio.com/" target="_blank">Visual Studio Code</a> fejleszt≈ëi k√∂rnyezethez k√©sz√ºlt.</p>
            
            <h3>HTML</h3>

            <p>Induljunk ki a m√°r j√≥l ismert alapstrukt√∫r√°b√≥l, azonban a canvas sz√©less√©g√©t √©s magass√°g√°t √∫gy hat√°rozzuk meg, hogy azok <b>egyenl≈ëek</b> legyenek, teh√°t egy n√©gyzet alak√∫ v√°szonra lesz sz√ºks√©g√ºnk.</p>

            <pre>
                <code>
&lt;!DOCTYPE html&gt;
&lt;html lang="hu"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Pont&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;style&gt;
        canvas {
            border: 1px solid black;
        }
    &lt;/style&gt;
    &lt;h1&gt;Pont&lt;/h1&gt;
    &lt;canvas width="400" height="400"&gt;&lt;/canvas&gt;
    &lt;script src="index.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
                </code>
            </pre>

            <h3>JavaScript</h3>

            <h4>Keretprogram</h4>

            <p>Hozzuk l√©tre az <span class="kodreszlet">index.js</span> √°llom√°nyt √©s <b>m√°soljuk be</b> az al√°bbi kommeltelt k√≥dot! Ezt a keretprogramot fogjuk kieg√©sz√≠teni. A forr√°sk√≥d tartalmazza a canvas el√©r√©s√©t, a v√©letlen eg√©szt gener√°l√≥, illetve az √ºtk√∂z√©st ellen≈ërz≈ë f√ºggv√©nyt.</p>
            <pre>
                <code>
/*Canvas el√©r√©se*/
const canvas = document.querySelector('canvas');
const ctx = canvas.getContext('2d');

/* Konstansok */


/* V√°ltoz√≥k */


/* === ANIM√ÅCI√ìS CIKLUS === */



/* === ESEM√âNYEK === */

/* === SEG√âDF√úGGV√âNYEK === */

// v√©letlen eg√©sz
function v√©letlenEg√©sz(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
}

// √ºtk√∂z√©s
function √ºtk√∂znek(t√©glalap1, t√©glalap2) {
    return ! (
        t√©glalap2.x + t√©glalap2.sz√©less√©g <= t√©glalap1.x ||
        t√©glalap2.y + t√©glalap2.magass√°g <= t√©glalap1.y ||
        t√©glalap2.x >= t√©glalap1.x + t√©glalap1.sz√©less√©g ||
        t√©glalap2.y >= t√©glalap1.y + t√©glalap1.magass√°g
    )
}
                </code>
            </pre>

            <p class="feladat"><b>‚úÖFeladat</b><br>Milyen <b>szerepl≈ëket</b> v√©lsz felfedezni ebben a j√°t√©kban?<br>Milyen hasonl√≥ j√°t√©kokat ismersz, ahol p√∂tty√∂ket/k√∂r√∂ket lehet ir√°ny√≠tani?</p>

            <details>
                <summary>Megold√°s</summary>
                <ul>
                    <li>lazac sz√≠n≈± k√∂r (ir√°ny√≠that√≥ szerepl≈ë)</li>
                    <li>pici s√°rga k√∂r (begy≈±jtend≈ë szerepl≈ë)</li>
                    <li>fekete k√∂r (ellens√©g / akad√°ly)</li>
                </ul>
            </details>

            <h4>H√°tt√©r</h4>

            <p>T√∂lts√ºk be a <span class="kodreszlet">h√°tt√©r.png</span> nev≈± k√©pet! Sz√≠nezz√ºk a h√°tteret egy tetsz≈ëleges sz√≠nre, majd √°ll√≠tsuk be a h√°tt√©rk√©pet!</p>

            <pre>
                <code>
/* Konstansok */
<span class="kodkiemeles">const h√°tt√©rk√©p = new Image();
h√°tt√©rk√©p.src = 'h√°tt√©r.png';</span>
                </code>
            </pre>

            <pre>
                <code>
// h√°tt√©r
ctx.fillStyle = '#008f95';
ctx.fillRect(0, 0, canvas.width, canvas.height);
ctx.drawImage(h√°tt√©rk√©p, 0, 0, canvas.width, canvas.height);
                </code>
            </pre>

            <p>A h√°tt√©rk√©p m√©g nem jelent meg, de ezt k√∂nnyen kik√ºsz√∂b√∂lhetj√ºk a m√°r j√≥l ismert <b>anim√°ci√≥s ciklussal</b>.</p>

            <pre>
                <code>
/* === ANIM√ÅCI√ìS CIKLUS === */


<span class="kodkiemeles">function k√∂vetkez≈ë() {
    friss√≠t√©s()
    rajzol√°s()
    requestAnimationFrame(k√∂vetkez≈ë)
}

k√∂vetkez≈ë()

function rajzol√°s() {</span>
    // h√°tt√©r
    ctx.fillStyle = '#008f95';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(h√°tt√©rk√©p, 0, 0, canvas.width, canvas.height);
<span class="kodkiemeles">}

function friss√≠t√©s() {
    
}</span>
                </code>
            </pre>


            <div class="kepsor">
                <figure>
                    <img src="k√©pek/pont-hatter.png">
                    <figcaption>A h√°tt√©rk√©p kirajzol√°sa anim√°ci√≥s ciklusban</figcaption>
                </figure>
            </div>

            <p>Az im√©nt meg√≠rt k√≥d m√°r egy anim√°ci√≥, b√°r nem t√∫l l√°tv√°nyos. Ebben az anim√°ci√≥ban egy m√°sodperc alatt t√∂bbsz√∂r ugyanaz a sz√≠nes t√©glalap √©s h√°tt√©rk√©p ker√ºl kirajzol√°sra - ez el√©g statikus m√©g.</p>

            <h4>Szerepl≈ëk</h4>

            <p>Sz√ºks√©g√ºnk lesz szerepl≈ëkre, azaz <b>k√∂r</b>√∂kre. Ezek a szerepl≈ëk id≈ënk√©nt vagy folyamatosan mozogni fognak valamilyen meghat√°rozott szab√°ly alapj√°n, ez√©rt a helyzet√ºket le√≠r√≥ adatokat √©rdemes <b>v√°ltoz√≥kban</b> elt√°rolni, hogy azok m√≥dos√≠t√°sa eset√©n a k√∂vetkez≈ë k√©pkocka a legfrissebb v√°ltozatot mutassa. S≈ët! Az √∂sszetartoz√≥ adatokat √©rdemes <b>egys√©gbe z√°rni</b>.</p>

            <p>Mit jelent az egys√©gbe z√°r√°s? Azt, hogy bizonyos adatok csak egy konkr√©t szerepl≈ëh√∂z tartoznak. Vegy√ºk p√©ldak√©nt a haj√≥kat. Minden haj√≥nak van neve, ir√°nya √©s sebess√©ge, de ezek az adatok minden haj√≥ eset√©n egyediek:</p>

            <ul>
                <li><b>Haj√≥n√©v:</b> K√©k Horizont</li>
                <li><b>Ir√°ny:</b> √âszaknyugat (315¬∞)</li>
                <li><b>Sebess√©g:</b> 18 csom√≥</li>
            </ul>
            <ul>
                <li><b>Haj√≥n√©v:</b> Sz√©lv√©sz</li>
                <li><b>Ir√°ny:</b> D√©lkelet (135¬∞)</li>
                <li><b>Sebess√©g:</b> 24 csom√≥</li>
            </ul>

            <p>JavaScriptben ezt a k√∂vetkez≈ëk√©ppen fogalmazn√°nk meg:</p>

            <pre>
                <code>
let hajo1 = {
    <span class="kodkiemeles">nev</span>: 'K√©k Horizont',
    <span class="kodkiemeles">irany</span>: 315,
    <span class="kodkiemeles">sebesseg</span>: 18
}

let hajo2 = {
    <span class="kodkiemeles">nev</span>: 'Sz√©lv√©sz',
    <span class="kodkiemeles">irany</span>: 135,
    <span class="kodkiemeles">sebesseg</span>: 24
}
                </code>
            </pre>

            <p>Ezeket az egys√©geket <b>objektum</b>oknak nevezz√ºk.</p>

            <p>Teh√°t a <span class="kodreszlet">let</span> kulcssz√≥ ut√°n megadjuk az objektum nev√©t, majd az <span class="kodreszlet">=</span> jel ut√°n <span class="kodreszlet">{}</span> jelek k√∂z√∂tt felsoroljuk az adattagokat. Az adattagok egy kulcs-√©rt√©k p√°rb√≥l √°llnak, melyeket <span class="kodreszlet">:</span>-tal v√°lasztunk el. Az adattagokat vessz≈ëvel elv√°lasztva soroljuk fel.</p>

            <p>Ilyen objektumokra lesz sz√ºks√©g a k√∂r√∂k eset√©n is. Minden objektum a j√°t√©k egy szerepl≈ëje lesz, teh√°t l√©tre kell koznunk egy <b>j√°t√©kos</b>t, egy <b>c√©l</b>t √©s egy <b>ellens√©g</b>et. Minden szerepl≈ër≈ël tudnunk kell az ≈ë <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> poz√≠ci√≥j√°t, valamit a <span class="kodreszlet">sz√©less√©g</span>√©t √©s <span class="kodreszlet">magass√°g</span>√°t - ut√≥bbi kett≈ët az √ºtk√∂z√©s vizsg√°lata miatt. N√©zz√ºk meg, hogy n√©z ki a j√°t√©kos l√©trehoz√°sa!</p>

            <pre>
                <code>
/* V√°ltoz√≥k */

let j√°t√©kos = {
    x: 40,
    y: 50,
    sz√©less√©g: 15,
    magass√°g: 15
}
                </code>
            </pre>

            <p>Most rajzoljuk ki ezt a k√∂rt!</p>

            <pre>
                <code>
function rajzol√°s() {
    // h√°tt√©r
    ctx.fillStyle = '#008f95';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(h√°tt√©rk√©p, 0, 0, canvas.width, canvas.height);

    // j√°t√©kos k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(<span class="kodkiemeles">j√°t√©kos.x</span>, <span class="kodkiemeles">j√°t√©kos.y</span>, <span class="kodkiemeles">j√°t√©kos.sz√©less√©g</span>, 0, 2 * Math.PI);
    ctx.fillStyle = '#eb6e80';
    ctx.fill();
}
                </code>
            </pre>

            <p>J√≥l l√°that√≥, hogy a k√∂r kirajzol√°s√°n√°l nem konkr√©t adatokat √≠rtunk be, hanem valamilyen v√°ltoz√≥ra hivatkoztunk. Ez a v√°ltoz√≥ a <span class="kodreszlet">j√°t√©kos</span> objektum egy-egy adattagja, √∂sszetev≈ëje. Ezekre az adatokra √∫gy hivatkozhatunk, hogy az objektum neve ut√°n pontot √ºtve megadjuk az adattag nev√©t. Pl. a j√°t√©kos x adattagj√°ra √≠gy lehet hivatkozni: "<span class="kodreszlet">j√°t√©kos.x</span>".</p>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/pont-korok-jatekos.png">
                    <figcaption>A j√°t√©kos kirajzol√°sa a <span class="kodreszlet">j√°t√©kos</span> objektum alapj√°n</figcaption>
                </figure>
            </div>

            <p class="feladat"><b>‚úÖFeladat</b><br><b>Hozzuk l√©tre</b> a <span class="kodreszlet">c√©l</span> √©s az <span class="kodreszlet">ellens√©g</span> szerepl≈ëket is!<br><b>Rajzoljuk is ki</b> ezeket a szerepl≈ëket!</p>

            <details>
                <summary>Megold√°s</summary>
                <p>A tov√°bbi k√©t szerepl≈ë <b>l√©trehoz√°sa</b>:</p>
                <pre>
                    <code>
/* V√°ltoz√≥k */

let j√°t√©kos = {
    x: 40,
    y: 50,
    sz√©less√©g: 10,
    magass√°g: 10
}

<span class="kodkiemeles">let c√©l = {
    x: 80,
    y: 50,
    sz√©less√©g: 5,
    magass√°g: 5
}

let ellens√©g = {
    x: 120,
    y: 50,
    sz√©less√©g: 15,
    magass√°g: 15
}</span>
                    </code>
                </pre>
                <p>A tov√°bbi k√©t szerepl≈ë <b>kirajzol√°sa</b>:</p>
                <pre>
                    <code>
function rajzol√°s() {
    // h√°tt√©r
    ctx.fillStyle = '#008f95';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(h√°tt√©rk√©p, 0, 0, canvas.width, canvas.height);

    <span class="kodkiemeles">// c√©l k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(c√©l.x, c√©l.y, c√©l.sz√©less√©g, 0, 2 * Math.PI);
    ctx.fillStyle = '#e9b000';
    ctx.fill();</span>

    // j√°t√©kos k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(j√°t√©kos.x, j√°t√©kos.y, j√°t√©kos.sz√©less√©g, 0, 2 * Math.PI);
    ctx.fillStyle = '#eb6e80';
    ctx.fill();

    <span class="kodkiemeles">// ellens√©g k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(ellens√©g.x, ellens√©g.y, ellens√©g.sz√©less√©g, 0, 2 * Math.PI);
    ctx.fillStyle = '#262228';
    ctx.fill();</span>
}
                    </code>
                </pre>
            </details>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/pont-korok-alap.png">
                    <figcaption>A szerepl≈ëk kirajzol√°sa az objektumok alapj√°n</figcaption>
                </figure>
            </div>

            <h4>Szerepl≈ëk elhelyez√©se</h4>

            <p>A szerepl≈ëk sikeresen kirajzol√°sra ker√ºltek, de l√°that√≥an <b>m√©g nem a j√°t√©kban elfoglalt hely√ºk√∂n szerepelnek</b>. √ârj√ºk el a <span class="kodreszlet">c√©l</span> szerepl≈ë eset√©n, hogy b√°rmelyik k√∂rcikkbe beker√ºlhessen a j√°t√©k ind√≠t√°sakor!</p>

            <p>Ehhez, persze, tudnunk kellene, hogy mi ezeknek a mez≈ëknek a k√∂z√©ppontja. Egy kis k√≠s√©rletez√©s ut√°n az al√°bbi koordin√°ta-p√°rokat kapjuk:</p>

            <ul>
                <li>x: 170, y: 130</li>
                <li>x: 230, y: 130</li>
                <li>x: 270, y: 170</li>
                <li>x: 270, y: 230</li>
                <li>x: 230, y: 270</li>
                <li>x: 170, y: 270</li>
                <li>x: 130, y: 230</li>
                <li>x: 130, y: 170</li>
            </ul>

            <p>E k√∂z√ºl a <b>8</b> sz√°mp√°ros k√∂z√ºl kellene kiv√°lasztani <b>egyet</b> v√©letlenszer≈±en. Sejthet≈ë, hogy valahogyan a v√©letlensz√°m-gener√°l√°st lehetne haszn√°lni, √©s azt is tudjuk m√°r, hogyan lehet v√©letlensz√°mot gener√°lni. De ez a tud√°s hogyan lesz itt a seg√≠ts√©g√ºnkre?</p>

            <p>Eml√©keztet≈ë√ºl, a <span class="kodreszlet">v√©letlenEg√©sz(1, 8)</span> f√ºggv√©ny egy v√©letlen sz√°mot fog adni 1 √©s 8 k√∂z√∂tt a hat√°rokat is bele√©rtve. Tegy√ºk fel, hogy a f√ºggv√©ny az 5-√∂s sz√°mot sorsolta ki. Milyen j√≥ lenne, ha ebben az esetben a koordin√°tap√°rokat tartalmaz√≥ lista 5. elem√©t kapn√°nk meg, hogy oda helyezhess√ºk le a <span class="kodreszlet">c√©l</span>t! Szerencs√©re van erre lehet≈ës√©g√ºnk akkor, ha egy <b>t√∂mb</b>ben t√°roljuk el a koordin√°tap√°rokat. Ennek haszn√°lat√°hoz n√©zz√ºk meg, mi az a t√∂mb.</p>

            <p>A t√∂mb pontosan olyan, mint egy bev√°s√°rl√≥lista. T√∂bb elemet t√°rol egyszerre, p√©ld√°ul:</p>

            <ol>
                <li><span class="kodreszlet">'ban√°n'</span></li>
                <li><span class="kodreszlet">'alma'</span></li>
                <li><span class="kodreszlet">'sajt'</span></li>
                <li><span class="kodreszlet">'keny√©r'</span></li>
                <li><span class="kodreszlet">...</span></li>
            </ol>

            <p>Az al√°bbi k√≥d azt mutatja, hogyan <b>hozhatunk l√©tre</b> egy v√°ltoz√≥t √©s hogyan egy √ºres t√∂mb√∂t.</p>

            <pre>
                <code>
/*v√°ltoz√≥ l√©trehoz√°sa*/
let sz√°m = 132;

/*t√∂mb l√©trehoz√°sa*/
<span class="kodkiemeles">let bev√°s√°rl√≥lista = [];</span>
                </code>
            </pre>

            <p>A <span class="kodreszlet">let</span> kulcssz√≥ ut√°n el≈ësz√∂r megadjuk a t√∂mb nev√©t (<span class="kodreszlet">bev√°s√°rl√≥lista</span>), ut√°na egy <span class="kodreszlet">=</span> jel ut√°n <span class="kodreszlet">[]</span> jelet tesz√ºnk. (A sort <span class="kodreszlet">;</span> jellel z√°rjuk, de ez elhagyhat√≥.)</p>

            <p>Ha m√°r egy bizonyos √©rt√©kekkel felt√∂lt√∂tt t√∂mb√∂t k√≠v√°nunk l√©trehozni, akkor az al√°bbi m√≥dszer √°ll rendelkez√©sre:</p>

            <pre>
                <code>
/*t√∂mb l√©trehoz√°sa elemekkel*/
let nyer≈ësz√°mok = [5, 12, 46, 28, 30];
                </code>
            </pre>

            <p>Jogosan mer√ºlhet fel a k√©rd√©s, hogy ezek az elemek t√©nyleg benne vannak-e a t√∂mbben. Ezzen≈ërizz√ºk ezt az√°ltal, hogy a b√∂ng√©sz≈ë Console ablak√°ban <b>ki√≠rjuk</b> a t√∂mb√∂t.</p>

            <pre>
                <code>
/*t√∂mb ki√≠r√°sa a console-ra*/
console.log(nyer≈ësz√°mok);
                </code>
            </pre>

            <p>Az <b>F12</b> billenty≈± megnyom√°sa ut√°n m√°r l√°thatjuk is a t√∂mb√∂t √©s annak tartalm√°t:</p>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/pont-t√∂mb.png">
                    <figcaption>A Console-on megjelen√≠tett t√∂mb</figcaption>
                </figure>
            </div>

            <p>Ez t√∂bb inform√°ci√≥t is tudom√°sunkra hoz. Az <b>Array(5)</b> mutatja meg, hogy h√°ny elem van a t√∂mbben, vagyis milyen hossz√∫ a t√∂mb. M√°sr√©szt, a t√∂mb elemei nem egyszer≈±en fel vannak sorolva, hanem <b>sorsz√°m</b> is van rendelve hozz√°juk. Ezt a sorsz√°mot a programoz√°sban <b>index</b>nek h√≠vjuk.</p>

            <p class="feladat"><b>‚úÖFeladat</b><br>Mi az els≈ë elem indexe?<br>Mi az utols√≥ elem indexe?</p>

            <details>
                <summary>Megold√°s</summary>
                <p>Az els≈ë elem indexe <b>0</b>, az utols√≥√© <b>4</b></p>
            </details>

            <p>A t√∂mb elemei fel√ºl√≠rhat√≥k m√°s √©rt√©kekkel. Az al√°bbi k√≥d azt mutatja, hogy a t√∂mb m√°sodik index≈± elem√©t √°t√≠rjuk <span class="kodreszlet">12</span>-re.</p>

            <pre>
                <code>
nyer≈ësz√°mok[2] = 12;
                </code>
            </pre>

            <p>Egy t√∂mb egy adott index≈± elem√©re √∫gy hivatkozhatunk (m√°sk√©nt fogalmazva √∫gy √©rj√ºk el), hogy a t√∂mb nev√©t le√≠rjuk, majd <span class="kodreszlet">[]</span> jelek k√∂z√© √≠rjuk azt az indexet, amelyik indexen l√©v≈ë elemre k√≠v√°ncsiak vagyunk.</p>

            <p class="feladat"><b>‚úÖFeladat</b><br>√çrjuk ki ism√©t a console-ra a nyer≈ësz√°mok t√∂mb√∂t, hogy megn√©zz√ºk, val√≥vban √°t√≠rtuk-e a m√°sodik indexen l√©v≈ë elemet!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
console.log(nyer≈ësz√°mok);
                    </code>
                </pre>
                <div class="kepsor">
                    <figure>
                        <img src="k√©pek/pont-t√∂mb-modositott.png">
                        <figcaption>A Console-on megjelen√≠tett, m√≥dos√≠tott t√∂mb</figcaption>
                    </figure>
                </div>
            </details>

            <p class="feladat"><b>‚úÖFeladat</b><br>√çrjuk ki a console-ra a nyer≈ësz√°mok t√∂mb els≈ë elem√©t!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
console.log(nyer≈ësz√°mok[0]);
                    </code>
                </pre>
                
                <div class="kepsor">
                    <figure>
                        <img src="k√©pek/pont-t√∂mb-elsoelem.png">
                        <figcaption>A <span class="kodreszlet">nyer≈ësz√°mok</span> t√∂mb els≈ë elem√©nek ki√≠r√°sa a Console-ra</figcaption>
                    </figure>
                </div>
            </details>

            <p>Egy t√∂mbben nemcsak sz√°mokat t√°rolhatunk, hanem sz√∂vegeket vagy egys√©gbe z√°rt elemeket, azaz objektumokat is. <b>Az eddigi tud√°sunk alapj√°n hogyan t√°roljuk el a koordin√°tap√°rokat?</b> Mivel sz√°mp√°rokr√≥l van sz√≥, ez√©rt √©rdemes ≈ëket egys√©gbe z√°rni, teh√°t a v√°lasz az, hogy <b>objektumokk√©nt</b> t√°roljuk ≈ëket!</p>

            <p>Hozzuk l√©tre a <span class="kodreszlet">helyek</span> nev≈± t√∂mb√∂t! Ebben a t√∂mbben fogjuk t√°rolni azokat a koordin√°tap√°rokat, melyek a k√∂rcikkek k√∂zep√©t mutatj√°k. Ezut√°n egyes√©vel f≈±zz√ºk a t√∂mb v√©g√©re az √∫jabb √©s √∫jabb koordin√°tap√°rokat! Azt ezt megval√≥s√≠t√≥ k√≥dban a <span class="kodreszlet">helyek.push()</span> f√ºggv√©ny azt jeleti, hogy a t√∂mb v√©g√©re f≈±z√ºnk egy √∫j elemet. Ezt az √∫j elemet a f√ºggv√©ny <span class="kodreszlet">()</span> jelei k√∂z√© √≠rjuk.</p>

            <pre>
                <code>
/* Konstansok */
const h√°tt√©rk√©p = new Image();
h√°tt√©rk√©p.src = 'h√°tt√©r.png';

<span class="kodkiemeles">let helyek = [];

helyek.push({x: 170, y: 130});
helyek.push({x: 230, y: 130});
helyek.push({x: 270, y: 170});
helyek.push({x: 270, y: 230});
helyek.push({x: 230, y: 270});
helyek.push({x: 170, y: 270});
helyek.push({x: 130, y: 230});
helyek.push({x: 130, y: 170});</span>
                </code>
            </pre>

            <p>A <span class="kodreszlet">push</span> f√ºggv√©ny param√©ter√©be nem egy sz√°mot vagy sz√∂veget √≠rtunk, hanem egy objektumot, melynek van <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> adattagja. Az adattagok √©rt√©ke a pontok x √©s y koordin√°t√°i, melyeket fentebb tal√°lod a felsorol√°sban.</p>

            <p>Ezzel siker√ºlt elt√°rolnunk mind a 8 pontot.</p>

            <p class="feladat"><b>‚úÖFeladat</b><br>√çrjuk ki a <span class="kodreszlet">helyek</span> t√∂mb els≈ë, harmadik √©s utols√≥ koordin√°tap√°rj√°t!<br>√çrjuk ki az utols√≥ koordin√°tap√°r <span class="kodreszlet">x</span> koordin√°t√°j√°t!<br>√çrjuk ki az utols√≥ koordin√°tap√°r <span class="kodreszlet">y</span> koordin√°t√°j√°t!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
let helyek = [];

helyek.push({x: 170, y: 130});
helyek.push({x: 230, y: 130});
helyek.push({x: 270, y: 170});
helyek.push({x: 270, y: 230});
helyek.push({x: 230, y: 270});
helyek.push({x: 170, y: 270});
helyek.push({x: 130, y: 230});
helyek.push({x: 130, y: 170});

<span class="kodkiemeles">console.log(helyek[0]);
console.log(helyek[2]);
console.log(helyek[7]);

console.log(helyek[7].x);
console.log(helyek[7].y);</span>
                    </code>
                </pre>
                
                <div class="kepsor">
                    <figure>
                        <img src="k√©pek/pont-t√∂mb-objektum.png">
                        <figcaption>Objektumok, mint t√∂mbelemek ki√≠r√°sa a Console-ra</figcaption>
                    </figure>
                </div>
            </details>


            <p>Nincs m√°s h√°tra, mint kisorsolni egy v√©letlen indexet, √©s az ezen az indexen l√©v≈ë koordin√°t√°kra letenni a k√∂rt.</p>

            <p>Fontos k√©rd√©s, hogy mi a <b>legkisebb</b> √©s <b>legnagyobb</b> v√©letlensz√°m, amit kisorsolhatunk? Mi√©rt? ‚û°Ô∏è A legkisebb kisorsolhat√≥ sz√°m a <span class="kodreszlet">0</span>, a legnagyobb pedig <span class="kodreszlet">7</span>, mivel a t√∂mb indexel√©se 0-val kezd≈ëdik √©s nyolc elem eset√©n a legnagyobb index 7.</p>

            <p>Hozzuk l√©tre az <span class="kodreszlet">√∫jhely</span> v√°ltoz√≥t fent, a v√°ltoz√≥kn√°l:</p>
            <pre>
                <code>
/* V√°ltoz√≥k */

let j√°t√©kos = {
    ...
}
let c√©l = {
    ...
}
let ellens√©g = {
    ...
}

<span class="kodkiemeles">let √∫jhely = 0;</span>
                </code>
            </pre>

            <pre>
                <code>
function friss√≠t√©s() {
    <span class="kodkiemeles">√∫jhely = v√©letlenEg√©sz(0, 7);</span>
    if (<span class="kodkiemeles">√∫jhely == 0</span>) {
        c√©l<span class="kodkiemeles">.x</span> = helyek[<span class="kodkiemeles">√∫jhely</span>]<span class="kodkiemeles">.x</span>;
        c√©l<span class="kodkiemeles">.y</span> = helyek[<span class="kodkiemeles">√∫jhely</span>]<span class="kodkiemeles">.y</span>;
    }
    if (√∫jhely == <span class="kodkiemeles">1</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
    if (√∫jhely == <span class="kodkiemeles">2</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
    if (√∫jhely == <span class="kodkiemeles">3</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
    if (√∫jhely == <span class="kodkiemeles">4</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
    if (√∫jhely == <span class="kodkiemeles">5</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
    if (√∫jhely == <span class="kodkiemeles">6</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
    if (√∫jhely == <span class="kodkiemeles">7</span>) {
        c√©l.x = helyek[√∫jhely].x;
        c√©l.y = helyek[√∫jhely].y;
    }
}
                </code>
            </pre>

            <p>A fenti k√≥ddal azt √©rj√ºk el, hogy 1mp alatt sokszor kisorsolunk egy v√©letlensz√°mot 0 √©s 7 k√∂z√∂tt, ezt beletessz√ºk az <span class="kodreszlet">√∫jhely</span> v√°ltoz√≥ba, majd a <span class="kodreszlet">c√©l</span> szerepl≈ët elhelyezz√ºk a kisorsolt helyre. Ha <span class="kodreszlet">0</span>-√°t sorsolunk ki, akkor a <span class="kodreszlet">(170, 130)</span> koordin√°t√°k kellenek, ha <span class="kodreszlet">1</span>-et, akkor <span class="kodreszlet">(230, 130)</span>, √©s √≠gy tov√°bb. Ez√©rt k√ºl√∂n kell kezeln√ºnk minden lehets√©ges sorsz√°mot, √©s be kell √°ll√≠tanunk a <span class="kodreszlet">c√©l</span> <b>x</b> √©s <b>y</b> koordin√°t√°it a <span class="kodreszlet">helyek[√∫jhely]</span> <b>x</b> √©s <b>y</b> adattagjaira.</p>

            <p>Hurr√°! A <span class="kodreszlet">c√©l</span> folyamatosan √∫j helyet keres mag√°nak √©s √°tugrik oda. Persze, ezt csak akkor tegye meg, ha √∂ssze tudtuk ≈ët gy≈±jteni, vagyis ha √©rintkezik a <span class="kodreszlet">j√°t√©kos</span>sal. Oldjuk meg azt, hogy csak akkor ugorjon √°t egy m√°sik helyre, ha √ºtk√∂zik a <span class="kodreszlet">j√°t√©kos</span>sal!</p>

            <pre>
                <code>
function friss√≠t√©s() {
    <span class="kodkiemeles">if (√ºtk√∂znek(j√°t√©kos, c√©l)) {</span>
        √∫jhely = v√©letlenEg√©sz(0, 7);
        if (√∫jhely == 0) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 1) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 2) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 3) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 4) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 5) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 6) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 7) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
    <span class="kodkiemeles">}</span>
}                    
                </code>
            </pre>

            <pre>
                <code>
/* === SEG√âDF√úGGV√âNYEK === */

// v√©letlen eg√©sz
function v√©letlenEg√©sz(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
}

<span class="kodkiemeles">// √ºtk√∂z√©s
function √ºtk√∂znek(t√©glalap1, t√©glalap2) {
    return ! (
        t√©glalap2.x + t√©glalap2.sz√©less√©g <= t√©glalap1.x ||
        t√©glalap2.y + t√©glalap2.magass√°g <= t√©glalap1.y ||
        t√©glalap2.x >= t√©glalap1.x + t√©glalap1.sz√©less√©g ||
        t√©glalap2.y >= t√©glalap1.y + t√©glalap1.magass√°g
    )
}</span>
                </code>
            </pre>

            <p>Sajnos, m√©g nem tudjuk kipr√≥b√°lni, hogy siker√ºle-e a "begy≈±jt√©s", mivel nem tudjuk mozgatni a <span class="kodreszlet">j√°t√©kos</span>t. Oldjuk meg a j√°t√©kos mozgat√°s√°t!</p>

            <h4>J√°t√©kos mozgat√°sa</h4>

            <p>Azt m√°r megfigyelhetted, hogy a <span class="kodreszlet">j√°t√©kos</span> meghat√°rozott szab√°ly szerint halad: <b>minden kattint√°sn√°l egyet jobbra l√©p.</b> Haszn√°ljuk ki, hogy pontosan ilyen sorrendben t√°roltuk el a mez≈ëk√∂z√©ppontokat: <b>k√∂vetkez≈ë mez≈ë = <span class="kodreszlet">helyek</span> t√∂mb k√∂vetkez≈ë eleme</b>. Vagyis csak a <b>t√∂mbindexet kell n√∂veln√ºnk egyel</b> minden kattint√°sn√°l.</p>

            <p>Az aktu√°lis t√∂mbindex t√°rol√°s√°hoz hozzunk l√©tre egy <span class="kodreszlet">akt</span> nev≈± v√°ltoz√≥t a v√°ltoz√≥kn√°l <span class="kodreszlet">0</span> kezd≈ë√©rt√©kkel!</p>

            <pre>
                <code>
/* V√°ltoz√≥k */

...

let √∫jhely = 0;
<span class="kodkiemeles">let akt = 0;</span>
                </code>
            </pre>

            <p>Most a m√°r j√≥l ismert kattint√°s esem√©nyt kell meg√≠rnunk. Ennek meg√≠r√°s√°ban vezessen minket a k√∂vetkez≈ë k√©rd√©s: mi t√∂rt√©njen, amikor a v√°szonra kattintunk? V√°lasz: n√∂vekedjen <span class="kodreszlet">1</span>-gyel az <span class="kodreszlet">akt</span> v√°ltoz√≥ √©rt√©ke. Ha ez megt√∂rt√©nt, akkor az aktu√°lis mez≈ëk√∂z√©ppont koordin√°t√°it adjuk √°t a j√°t√©kos <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> adattagjainak!</p>

            <pre>
                <code>
/* === ESEM√âNYEK === */

document.addEventListener('click', function(e) {
    akt += 1;
    
    j√°t√©kos.x = helyek[akt].x;
    j√°t√©kos.y = helyek[akt].y;
})
                </code>
            </pre>

            <p>Szedj√ºk √∂ssze h√°romszor a <span class="kodreszlet">c√©l</span>t!</p>

            <p>Gyorsan tapasztalni fogjuk, hogy az els≈ë k√∂r megt√©tele ut√°n meg√°ll a j√°t√©k √©s az al√°bbi <b>hiba√ºzenet</b>et kapjuk.</p>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/pont-t√∂mb-tulindexeles-hibauzenet.png">
                    <figcaption>Hiba√ºzenet az els≈ë k√∂r megt√©tele ut√°n</figcaption>
                </figure>
            </div>

            <p>Ennek h√°tter√©ben az √°ll, hogy az <span class="kodreszlet">akt</span> v√°ltoz√≥ folyamatos n√∂vel√©se eljut od√°ig, hogy az √©rt√©ke 8 lesz, azt√°n 9, 10, 11, ... , 100, stb. De ilyen index≈± elem nincs a <span class="kodreszlet">helyek</span> t√∂mbben, teh√°t egy olyan elemre akarunk hivatkozni, ami nem l√©tezik. Ezt a jelens√©get h√≠vjuk <b>t√∫lindexel√©snek</b>. Ennek ellen√©re √∫jabb √©s √∫jabb k√∂r√∂ket szeretn√©k megtenni a <span class="kodreszlet">j√°t√©kos</span>sal, teh√°t valahogy kezelnem kell azt az esetet, amikor egy √∫jabb k√∂rt kezdek meg. A megold√°s megtal√°l√°s√°ban a k√∂vetkez≈ë k√©rd√©sek megv√°laszol√°sa seg√≠thet: Melyik index≈± elemre hivatkozunk a k√∂r utols√≥ mez≈ëj√©n? <b>(7.)</b> Ha l√©p√ºnk m√©g egyet, melyik index≈±re hivatkozzunk? <b>(0.)</b> Teh√°t mikor n√∂velhetj√ºk csak az <span class="kodreszlet">akt</span> v√°ltoz√≥t? <b>(Ha annak √©rt√©ke kisebb vagy egyenl≈ë, mint 7.)</b> M√≥dos√≠tsuk ez alapj√°n a kattint√°s esem√©nyt kezel≈ë f√ºggv√©nyt!</p>

            <pre>
                <code>
document.addEventListener('click', function(e) {
    <span class="kodkiemeles">if (akt < 7) {</span>
        akt += 1;
    <span class="kodkiemeles">} else {
        akt = 0;
    }</span>
    
    j√°t√©kos.x = helyek[akt].x;
    j√°t√©kos.y = helyek[akt].y;
})
                </code>
            </pre>

            <p>Az utols√≥ feladat az ellens√©g mozg√°s√°nak meg√≠r√°sa √©s a j√°t√©k befejez√©se.</p>

            <h4>Ellens√©g mozgat√°sa</h4>

            <p>Az ellens√©g mindig a j√°t√©kt√©r <b>sz√©le fel≈ël</b> tart annak <b>k√∂zepe fele</b>, majd ha el√©ri ezt a pontot (200, 200), akkor √∫j helyet keres mag√°nak √©s √∫jraindul. Ezek a helyek az oldalak <b>negyedelt pontjain</b> tal√°lhat√≥k.</p>

            <div class="kepsor">
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-1.png">
                    <figcaption>1</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-2.png">
                    <figcaption>2</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-3.png">
                    <figcaption>3</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-4.png">
                    <figcaption>4</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-5.png">
                    <figcaption>5</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-6.png">
                    <figcaption>6</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-7.png">
                    <figcaption>7</figcaption>
                </figure>
                <figure>
                    <img src="k√©pek/pont-ellenseg-kezd-8.png">
                    <figcaption>8</figcaption>
                </figure>
            </div>

            <p>Mivel az <span class="kodreszlet">ellens√©g</span> is v√©letlen helyr≈ël indul, a <span class="kodreszlet">c√©l</span>hoz hasonl√≥ m√≥don keress√ºnk neki v√©letlen helyet √©s jelen√≠ts√ºk meg ott. Az ellens√©g kisorsolt hely√©t t√°roljuk el az <span class="kodreszlet">√∫jhely_ellens√©g</span> v√°ltoz√≥ban, melyet hozzunk l√©tre a v√°ltoz√≥kn√°l <span class="kodreszlet">0</span> kezd≈ë√©rt√©kkel! Vegy√ºk figyelembe, tov√°bb√°, hogy csak akkor kell √∫j helyet keresni, ha el√©rte a j√°t√©kt√©r k√∂zep√©t!</p>

            <pre>
                <code>
/* V√°ltoz√≥k */

...

let √∫jhely = 0;
let akt = 0;
<span class="kodkiemeles">let √∫jhely_ellens√©g = 0;</span>
                </code>
            </pre>

            <pre>
                <code>
function friss√≠t√©s() {
    if (√ºtk√∂znek(j√°t√©kos, c√©l)) {
        √∫jhely = v√©letlenEg√©sz(0, 7);
        if (√∫jhely == 0) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 1) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 2) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 3) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 4) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 5) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 6) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 7) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
    }
    
    <span class="kodkiemeles">if (ellens√©g.x == 200 && ellens√©g.y == 200) {
        √∫jhely_ellens√©g = v√©letlenEg√©sz(0, 7);
        if (√∫jhely_ellens√©g == 0) {
            ellens√©g.x = canvas.width / 4;
            ellens√©g.y = 0;
        }
        if (√∫jhely_ellens√©g == 1) {
            ellens√©g.x = canvas.width / 4 * 3;
            ellens√©g.y = 0;
        }
        if (√∫jhely_ellens√©g == 2) {
            ellens√©g.x = canvas.width;
            ellens√©g.y = canvas.height / 4;
        }
        if (√∫jhely_ellens√©g == 3) {
            ellens√©g.x = canvas.width;
            ellens√©g.y = canvas.height / 4 * 3;
        }
        if (√∫jhely_ellens√©g == 4) {
            ellens√©g.x = canvas.width / 4 * 3;
            ellens√©g.y = canvas.height;
        }
        if (√∫jhely_ellens√©g == 5) {
            ellens√©g.x = canvas.width / 4;
            ellens√©g.y = canvas.height;
        }
        if (√∫jhely_ellens√©g == 6) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4 * 3;
        }
        if (√∫jhely_ellens√©g == 7) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4;
        }
    }</span>
}
                </code>
            </pre>

            <p>A megfelel≈ë hely kisorsol√°sa ut√°n elkezdhetj√ºk mozgatni az <span class="kodreszlet">ellens√©g</span>et. Egyel≈ëre statikusan mindig ugyanabba az ir√°nyba mozgassuk! M√≥dos√≠tsuk a <span class="kodreszlet">friss√≠t√©s</span> f√ºggv√©nyt √∫gy, hogy utols√≥ l√©p√©sk√©nt (a f√ºggv√©ny v√©g√©n) n√∂velj√ºk az <span class="kodreszlet">ellens√©g</span> <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> adattagj√°t.</p>

            <pre>
                <code>
function friss√≠t√©s() {
    if (√ºtk√∂znek(j√°t√©kos, c√©l)) {
        ...
    }
    
    if (ellens√©g.x == 200 && ellens√©g.y == 200) {
        if (√∫jhely_ellens√©g == 7) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4;
        }
    }
    
    <span class="kodkiemeles">ellens√©g.x += 1;
    ellens√©g.y += 1;</span>
}
                </code>
            </pre>

            <p>Most m√°r mozog az <span class="kodreszlet">ellens√©g</span>, de k√∂nny≈± bel√°tni, hogy a mozg√°s ir√°nya az <span class="kodreszlet">ellens√©g</span> kezd≈ëpoz√≠ci√≥j√°t√≥l f√ºgg. Ugyanis ha az a j√°t√©kt√©r fels≈ë fel√©n van (teh√°t a f√ºgg≈ëleges poz√≠ci√≥ja 200-n√°l kisebb), akkor lefel√© kell haladnia, ellenkez≈ë esetben felfel√©. Hasonl√≥k√©ppen a v√≠zszintes mozg√°sn√°l. Emiatt az <span class="kodreszlet">1</span>-gyel val√≥ n√∂vel√©s nem lesz megfelel≈ë, s≈ët, az sem biztos, hogy <b>n√∂velni</b> kell az <span class="kodreszlet">x</span> √©s <span class="kodreszlet">y</span> adattagot. Helyette ink√°bb 2 <b>sz√°m√≠tott √©rt√©k</b> lesz a megfelel≈ë. Egy v√≠zszintes √©s egy f√ºgg≈ëleges elmozdul√°s, melyeket jel√∂ljenek a <span class="kodreszlet">v</span> √©s <span class="kodreszlet">f</span> v√°ltoz√≥k.</p>

            <pre>
                <code>
/* V√°ltoz√≥k */

...

let √∫jhely = 0;
let akt = 0;
let √∫jhely_ellens√©g = 0;
<span class="kodkiemeles">let v = 0;  // v√≠zszintes elmozdul√°s
let f = 0;  // f√ºgg≈ëleges elmozdul√°s</span>
                </code>
            </pre>

            <p>A <span class="kodreszlet">v</span> √©s <span class="kodreszlet">f</span> √©rt√©k√©t minden √∫j hely kisorsol√°sa ut√°n azonnal √∫jra kell sz√°molni, ez√©rt eg√©sz√≠ts√ºk ki azt az el√°gaz√°st, amelyik azt ellen≈ërzi, hogy az <span class="kodreszlet">ellens√©g</span> el√©rte-e a j√°t√©kt√©r k√∂zep√©t (<span class="kodreszlet">if (ellens√©g.x == 200 && ellens√©g.y == 200)</span>). Miut√°n ebben az el√°gaz√°sban be√°ll√≠tottuk az ellens√©g √∫j hely√©t, sz√°moljuk ki a v√≠zszintes √©s f√ºgg≈ëleges elmozdul√°s √©rt√©k√©t!</p>

            <pre>
                <code>
function friss√≠t√©s() {
    if (√ºtk√∂znek(j√°t√©kos, c√©l)) {
        ...
    }

    if (ellens√©g.x == 200 && ellens√©g.y == 200) {
        ...
        if (√∫jhely_ellens√©g == 7) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4;
        }
        
        <span class="kodkiemeles">v = (ellens√©g.x - 200) / 100 * -1;
        f = (ellens√©g.y - 200) / 100 * -1;</span>
    }
    
    ellens√©g.x +=  <span class="kodkiemeles">v</span>;
    ellens√©g.y +=  <span class="kodkiemeles">f</span>;
}
                </code>
            </pre>

            <h4>A j√°t√©k elveszt√©se</h4>

            <p>A j√°t√©k akkor √©r v√©get, amikor az <span class="kodreszlet">ellens√©g</span> eltal√°lja a <span class="kodreszlet">j√°t√©kos</span>t. M√°r j√≥l tudjuk, hogy ennek ellen≈ërz√©s√©hez √ºtk√∂z√©svizsg√°latra van sz√ºks√©g. Legyen egy v√°ltoz√≥nk, amit annak t√°rol√°s√°ra fogunk haszn√°lni, hogy megy-e m√©g a j√°t√©k vagy sem. Ha √ºtk√∂znek, akkor ezt a v√°ltoz√≥t (legyen a neve p√©ld√°ul <span class="kodreszlet">v√©ge</span>) √°ll√≠tsuk <b>hamis</b>ra.</p>

            <p>Az olyan v√°ltoz√≥kat, amelyek igaz (<span class="kodreszlet">true</span>) vagy hamis (<span class="kodreszlet">false</span>) √©rt√©ket t√°rolnak, <b>logikai v√°ltoz√≥nak</b> nevezz√ºk.</p>

            <p>Kezdetben, ezt a v√°ltoz√≥t √°ll√≠tsuk <span class="kodreszlet">false</span>-ra, ezzel jelezve, hogy a j√°t√©k indul√°sakor m√©g nincs v√©ge a j√°t√©knak.</p>

            <pre>
                <code>
let √∫jhely = 0;
let akt = 0;
let √∫jhely_ellens√©g = 0;
let v = 0;  // v√≠zszintes elmozdul√°s
let f = 0;  // f√ºgg≈ëleges elmozdul√°s
<span class="kodkiemeles">let v√©ge = false;</span>
                </code>
            </pre>

            <p>A <span class="kodreszlet">friss√≠t√©s</span> f√ºggv√©nyben vizsg√°ljuk az <span class="kodreszlet">ellens√©g</span> √©s a <span class="kodreszlet">j√°t√©kos</span> √ºtk√∂z√©s√©t! Ha √ºtk√∂znek, a <span class="kodreszlet">v√©ge</span> v√°ltoz√≥t √°ll√≠tsuk igazra!</p>

            <pre>
                <code>
function friss√≠t√©s() {
    if (√ºtk√∂znek(j√°t√©kos, c√©l)) {
        ...
    }

    if (ellens√©g.x == 200 && ellens√©g.y == 200) {
        ...
        if (√∫jhely_ellens√©g == 7) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4;
        }
        
        v = (ellens√©g.x - 200) / 100 * -1;
        f = (ellens√©g.y - 200) / 100 * -1;
    }
    
    ellens√©g.x +=  v;
    ellens√©g.y +=  f;

    <span class="kodkiemeles">if (√ºtk√∂znek(j√°t√©kos, ellens√©g)) {
        v√©ge = true;
    }</span>
}
                </code>
            </pre>

            <p>Csak att√≥l, hogy a <span class="kodreszlet">v√©ge</span> v√°ltoz√≥ √©rt√©k√©t √°t√°ll√≠tottuk, m√©g nem lesz v√©ge a j√°t√©knak! Azonban ennek az egy v√°ltoz√≥nak az √©rt√©k√©t≈ël m√°r t√∂bb minden f√ºgghet. P√©ld√°ul az, hogy folytat√≥djon-e a j√°t√©k. Ha azt szeretn√©nk, hogy az <span class="kodreszlet">ellens√©g</span> √©s a <span class="kodreszlet">j√°t√©kos</span> √ºtk√∂z√©sekor meg√°lljon a j√°t√©k, akkor az anim√°ci√≥s ciklust kell m√≥dos√≠tanunk.</p>

            <p>Csak akkor h√≠vjuk meg √∫jra az anim√°ci√≥s ciklust, <b>ha m√©g nincs v√©ge</b> a j√°t√©knak!</p>

            <pre>
                <code>
function k√∂vetkez≈ë() {
    friss√≠t√©s()
    rajzol√°s()
    <span class="kodkiemeles">if (!v√©ge) {</span>
        requestAnimationFrame(k√∂vetkez≈ë)
    <span class="kodkiemeles">}</span>
}
                </code>
            </pre>

            <p><b>Ezzel el is k√©sz√ºlt√ºnk a j√°t√©kkal!</b></p>
            
            <p class="feladat"><b>‚úÖFeladat</b><br>Tartsd sz√°mon, mennyi p√∂tty√∂t tudt√°l begy≈±jteni! Ezt jelen√≠tsd meg valahol a j√°t√©kt√©ren!</p>

            <details>
                <summary>Megold√°s</summary>
                <pre>
                    <code>
/*Canvas el√©r√©se*/
const canvas = document.querySelector('canvas');
const ctx = canvas.getContext('2d');

/* Konstansok */
const h√°tt√©rk√©p = new Image();
h√°tt√©rk√©p.src = 'h√°tt√©r.png';

let helyek = [];

helyek.push({x: 170, y: 130});
helyek.push({x: 230, y: 130});
helyek.push({x: 270, y: 170});
helyek.push({x: 270, y: 230});
helyek.push({x: 230, y: 270});
helyek.push({x: 170, y: 270});
helyek.push({x: 130, y: 230});
helyek.push({x: 130, y: 170});

/*console.log(helyek[0]);
console.log(helyek[2]);
console.log(helyek[7]);

console.log(helyek[7].x);
console.log(helyek[7].y);*/



/* V√°ltoz√≥k */

let j√°t√©kos = {
    x: helyek[0].x,
    y: helyek[0].y,
    sz√©less√©g: 10,
    magass√°g: 10
}

let c√©l = {
    x: helyek[0].x,
    y: helyek[0].y,
    sz√©less√©g: 5,
    magass√°g: 5
}

let ellens√©g = {
    x: 200,
    y: 200,
    sz√©less√©g: 15,
    magass√°g: 15
}

let √∫jhely = 0;
let akt = 0;
<span class="kodkiemeles">let pont = -1;</span>
let √∫jhely_ellens√©g = 0;
let v = 0;  // v√≠zszintes elmozdul√°s
let f = 0;  // f√ºgg≈ëleges elmozdul√°s
let v√©ge = false;

/*let nyer≈ësz√°mok = [5, 12, 46, 28, 30];
console.log(nyer≈ësz√°mok);
nyer≈ësz√°mok[2] = 12;
console.log(nyer≈ësz√°mok);
console.log(nyer≈ësz√°mok[0]);*/

/* === ANIM√ÅCI√ìS CIKLUS === */

function k√∂vetkez≈ë() {
    friss√≠t√©s()
    rajzol√°s()
    if (!v√©ge) {
        requestAnimationFrame(k√∂vetkez≈ë)
    }
}

k√∂vetkez≈ë()

function rajzol√°s() {
    // h√°tt√©r
    ctx.fillStyle = '#008f95';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(h√°tt√©rk√©p, 0, 0, canvas.width, canvas.height);

    // c√©l k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(c√©l.x, c√©l.y, c√©l.sz√©less√©g, 0, 2 * Math.PI);
    ctx.fillStyle = '#e9b000';
    ctx.fill();

    // j√°t√©kos k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(j√°t√©kos.x, j√°t√©kos.y, j√°t√©kos.sz√©less√©g, 0, 2 * Math.PI);
    ctx.fillStyle = '#eb6e80';
    ctx.fill();

    // ellens√©g k√∂r kirajzol√°sa
    ctx.beginPath();
    ctx.arc(ellens√©g.x, ellens√©g.y, ellens√©g.sz√©less√©g, 0, 2 * Math.PI);
    ctx.fillStyle = '#262228';
    ctx.fill();

    <span class="kodkiemeles">// pont
    ctx.font = '20px Arial';
    ctx.fillStyle = 'black';
    ctx.fillText(pont, 10, 30);</span>
}

function friss√≠t√©s() {
    if (√ºtk√∂znek(j√°t√©kos, c√©l)) {
        <span class="kodkiemeles">pont += 1;</span>
        √∫jhely = v√©letlenEg√©sz(0, 7);
        if (√∫jhely == 0) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 1) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 2) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 3) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 4) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 5) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 6) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
        if (√∫jhely == 7) {
            c√©l.x = helyek[√∫jhely].x;
            c√©l.y = helyek[√∫jhely].y;
        }
    }
    
    if (ellens√©g.x == 200 && ellens√©g.y == 200) {
        √∫jhely_ellens√©g = v√©letlenEg√©sz(0, 7);
        if (√∫jhely_ellens√©g == 0) {
            ellens√©g.x = canvas.width / 4;
            ellens√©g.y = 0;
        }
        if (√∫jhely_ellens√©g == 1) {
            ellens√©g.x = canvas.width / 4 * 3;
            ellens√©g.y = 0;
        }
        if (√∫jhely_ellens√©g == 2) {
            ellens√©g.x = canvas.width;
            ellens√©g.y = canvas.height / 4;
        }
        if (√∫jhely_ellens√©g == 3) {
            ellens√©g.x = canvas.width;
            ellens√©g.y = canvas.height / 4 * 3;
        }
        if (√∫jhely_ellens√©g == 4) {
            ellens√©g.x = canvas.width / 4 * 3;
            ellens√©g.y = canvas.height;
        }
        if (√∫jhely_ellens√©g == 5) {
            ellens√©g.x = canvas.width / 4;
            ellens√©g.y = canvas.height;
        }
        if (√∫jhely_ellens√©g == 6) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4 * 3;
        }
        if (√∫jhely_ellens√©g == 7) {
            ellens√©g.x = 0;
            ellens√©g.y = canvas.height / 4;
        }
        
        v = (ellens√©g.x - 200) / 100 * -1; // √≠gy biztosan lesz olyan pillanat, amikor a (200,200) ponton van
        f = (ellens√©g.y - 200) / 100 * -1;
    }
    
    ellens√©g.x += v;
    ellens√©g.y += f;

    if (√ºtk√∂znek(j√°t√©kos, ellens√©g)) {
        v√©ge = true;
    }
}



/* === ESEM√âNYEK === */

document.addEventListener('click', function(e) {
    if (akt < 7) {
        akt += 1;
    } else {
        akt = 0;
    }
    
    j√°t√©kos.x = helyek[akt].x;
    j√°t√©kos.y = helyek[akt].y;
})


/* === SEG√âDF√úGGV√âNYEK === */

// v√©letlen eg√©sz
function v√©letlenEg√©sz(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
}

// √ºtk√∂z√©s
function √ºtk√∂znek(t√©glalap1, t√©glalap2) {
    return ! (
        t√©glalap2.x + t√©glalap2.sz√©less√©g <= t√©glalap1.x ||
        t√©glalap2.y + t√©glalap2.magass√°g <= t√©glalap1.y ||
        t√©glalap2.x >= t√©glalap1.x + t√©glalap1.sz√©less√©g ||
        t√©glalap2.y >= t√©glalap1.y + t√©glalap1.magass√°g
    )
}
                    </code>
                </pre>
            </details>

            <p class="feladat"><b>‚úÖFeladat</b><br>Szabd szem√©lyre a j√°t√©kot a kedvenc sz√≠n√∂ssze√°ll√≠t√°soddal. V√°logass kedvedre a <a href="https://www.canva.com/learn/website-color-schemes/" target="_blank">Canva oldal√°n</a>.</p>

            <div  class="feladatextra">
                <p><b>‚ú®EXTRA Feladat</b><br>Hozz l√©tre egy m√°sik, gyorsabb ellens√©get! ‚ö´</p>
            </div>

            <div  class="feladatextra">
                <p><b>‚ú®EXTRA Feladat</b><br>√ârd el, hogy minden j√°t√©kban v√©letlenszer≈± legyen az, hogy melyik ir√°nyba indul el a <span class="kodreszlet">j√°t√©kos</span>! ‚¨ÖÔ∏èüü†‚û°Ô∏è</p>
            </div>

        </div>

    </main>

    <footer>

    </footer>
</body>
</html>